# 内联函数

![inline-function](../../images/basic/Inline-Function.jpeg)

在Kotlin中，函数就是一等公民，一等对象，当你调用某个函数的时候，就会创建相关的对象。同时，虚拟机会去找到你调用函数的位置。然后执行函数，然后再回到你调用的初始位置。这里，一方面会有创建对象的空间开销，另一方面也有时间的开销。这个时候，你可能会想，如果将调用的函数里面的代码放到我调用的地方，省去寻找调用函数的位置的时间，岂不省去了时间和空间开销？

这个问题Kotlin设计者想的和你一样，不光是Kotlin，其他语言，比如C++也有类似的功能，这个功能我们称之为**内联！**，这也是Kotlin与Java不同的地方之一。

> 内联函数是C++的增强特性之一，用来降低程序的运行时间。当内联函数收到编译器的指示时，即可发生内联：编译器将使用函数的定义体来替代函数调用语句，这种替代行为发生在编译阶段而非程序运行阶段

Koltlin中将关键字`inline`放在函数之前，即可标识此函数为内联函数。

例如：
```kotlin
fun main(args: Array<String>) {
    println("function start")
    sayHello()
    println("function end")
}

inline fun sayHello() {
    val str = "hello world"
    println(str)
}
```
编译之后，上面的代码相当于如下的代码：
```kotlin
fun main(args: Array<String>) {
    println("function start")
    val str = "hello world"
    println(str)
    println("function end")
}
```

